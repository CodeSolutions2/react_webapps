<!DOCTYPE html>
<html>
<head></head>
<body>

<div id="JSX_root"></div>
     
<button id="react_basics0" onclick="react_basics0()">React.js in JavaScript</button>
     
<script src="https://unpkg.com/react/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>

<script>

var list_of_html_keys = ["nav", "h1", "ul", "li", "li", "li", "li"];
var list_of_html_values = ["", "Exploring navbar using React in JavaScript", "", "Item 0", "Item 1", "Item 2", "Item 3"];
var desc_arr1_all = ['level0_root', 'level1', 'level1_root', 'level2', 'level2', 'level2', 'level2']


// Could modify rowcol such that it only has items without root->main, and main->sub 
var rowcol =  ['nav', 'ul']; // these are root (root->main) and main_root (main->sub)

var desc_arr1 = ['level0_root', 'level1_root'];

     
async function react_basics0() {
     var element = await get_element();
     await render_ReactElement_to_DOM(element);
}



     
function get_create_element1(row) {

     var start_root_name = row;
     
     // start_root
     // find the index of row in list_of_html_keys
     var start_ind = desc_arr1_all.indexOf(start_root_name) + 1;   // 1

     // end_root: find the next root
     var end_shortlist_ind = desc_arr1.indexOf(start_root_name) + 1;
     var end_root_name = desc_arr1[end_shortlist_ind];   // level1_root
     var end_ind = desc_arr1_all.indexOf(end_root_name); 
     console.log("end_ind: ", end_ind);
     
     var array1 = list_of_html_keys.slice(start_ind, end_ind);
     console.log("array1: ", array1);  // 'h1'

     var list_of_html_values_short = list_of_html_values.slice(start_ind, end_ind); 
     
     // return the items between start_root and end_root
     return array1.map((row, i) => { 
          return React.createElement(`${row}`, {className: `${row}`, key: `${row}_keyName${i}` }, list_of_html_values_short[i]) })
     
}
     

async function get_element() {
     var element = desc_arr1.map((row, i) => { 
          return React.createElement(`${rowcol[i]}`, {className: `${rowcol[i]}`, key: `${rowcol[i]}_keyName${i}` }, get_create_element1(row)) })
     
     console.log("element: ", element);
     
     return element;
}



async function render_ReactElement_to_DOM(element) {
     
     const container = document.getElementById('JSX_root');
     const root = ReactDOM.createRoot(container);
     root.render(element);
}

     
</script>

</body>
</html>
