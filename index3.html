<!DOCTYPE html>
<html>
<head></head>
<body>

<button id="create_node_element_list" onclick="create_node_element_list()">create_node_element_list</button>
     
<script src="https://unpkg.com/react/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>

<script>

// -------------------------------------------
     
var list_of_html_keys = [];
var list_of_html_values = [];

var desc_arr1_all = [];
var rowcol =  [];
var desc_arr1 = [];


// -------------------------------------------
// Step 0
// -------------------------------------------
async function create_node_element_list() {
     
     const htmlString = `<nav>
         <h1>Exploring navbar using React in JavaScript</h1>
           <ul><li>Item 0</li>
                 <li>Item 1</li>
                  <li>Item 2</li>
                 </ul></nav>`;
     
     const fragment = document.createRange().createContextualFragment(htmlString);
     console.log("fragment: ", fragment);

     // loop from the root down each tree
     let a = fragment;  // new version

     // new version
     await get_one_loop(a);
     
     console.log("list_of_html_keys: ", list_of_html_keys);
     console.log("list_of_html_values: ", list_of_html_values);
     console.log("total_keys_path2: ", total_keys_path2);

     // ------------------------------------

     let num_html = total_keys_path2.split(' ');
     console.log("num_html: ", num_html);
     
     
     // ------------------------------------
     
     let regex = '/root/g';
     for (let i=0; i < list_of_html_values.length; i++) {

          if (regex.test(desc_arr1_all[i]) == true) {
               // a root is present
               list_of_html_values[i] = "";
               rowcol.push(list_of_html_keys[i]);
               desc_arr1.push(desc_arr1_all[i]);
          }
     }

     // ------------------------------------
}

     
     
// -------------------------------------------

var total_keys_path2 = "";
     
async function get_one_loop(a) {
     
     a = a.children;

     console.log("a.length: ", a.length);
     
     for (let i=0; i< a.length; i++) {
          console.log("i: ", i);
          
          console.log("a[i].localName: ", a[i].localName);
          list_of_html_keys.push(a[i].localName); // or tagName
          
          console.log("a[i].textContent: ", a[i].textContent);
          list_of_html_values.push(a[i].textContent);

          total_keys_path2 = total_keys_path2 + a.length + ' ' + a[i].localName + ' ';
               
          // go down into the object another level
          await get_one_loop(a[i]);
     }
}

// -------------------------------------------


     
</script>

</body>
</html>
